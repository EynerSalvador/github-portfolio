<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
        <meta name="description" content="Grupo A - NRC 23729, Construcción de Software" />
        <meta name="author" content="Grupo A" />
        <title>Grupo A - NRC 23729 Construcción de Software</title>
        <link rel="icon" type="image/x-icon" href="favicon.ico" />
        <!-- Google fonts-->
        <link href="https://fonts.googleapis.com/css?family=Raleway:100,100i,200,200i,300,300i,400,400i,500,500i,600,600i,700,700i,800,800i,900,900i" rel="stylesheet" />
        <link href="https://fonts.googleapis.com/css?family=Lora:400,400i,700,700i" rel="stylesheet" />
        <!-- Core theme CSS (includes Bootstrap)-->
        <link href="css/styles.css" rel="stylesheet" />
    </head>
    <body>
        <header>
            <h1 class="site-heading text-center text-faded d-none d-lg-block">
                <span class="site-heading-upper text-primary mb-3">NRC 23729 - Construcción de Software</span>
                <span class="site-heading-lower">Grupo A</span>
            </h1>
        </header>
        <!-- Navigation-->
        <nav class="navbar navbar-expand-lg navbar-dark py-lg-4" id="mainNav">
            <div class="container">
                <a class="navbar-brand text-uppercase fw-bold d-lg-none" href="index.html">Grupo A</a>
                <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button>
                <div class="collapse navbar-collapse" id="navbarSupportedContent">
                    <ul class="navbar-nav mx-auto">
                        <li class="nav-item px-lg-4"><a class="nav-link text-uppercase" href="index.html">Inicio</a></li>
                        <li class="nav-item px-lg-4"><a class="nav-link text-uppercase" href="https://wilderandr.github.io/PortafolioW.github.io/" target="_blank">Wilder</a></li>
                        <li class="nav-item px-lg-4"><a class="nav-link text-uppercase" href="https://moyacoasaca.github.io/perfilprofesional/">Edgar</a></li>
                        <li class="nav-item px-lg-4"><a class="nav-link text-uppercase" href="https://antonymq1097.github.io/-Antonymq1997.github.io/">Anthony</a></li>
                        <li class="nav-item px-lg-4"><a class="nav-link text-uppercase" href="https://eynersalvador.github.io/Eyner.github.io/">Eyner</a></li>
                        <li class="nav-item px-lg-4"><a class="nav-link text-uppercase" href="https://pvasquezb.github.io/PauloVasquez.github.io/">Paulo</a></li>
                    </ul>
                </div>
            </div>
        </nav>

        <!-- Nueva sección para mostrar datos de la base de datos -->
        <section class="page-section" id="database-section">
            <div class="container">
                <div class="row">
                    <div class="col-lg-12 text-center">
                        <h2 class="section-heading text-uppercase">Integrantes del Grupo</h2>
                        <div id="profiles-container" class="mt-5">
                            <!-- Los perfiles se cargarán aquí dinámicamente -->
                            <div class="text-center">
                                <div class="spinner-border text-primary" role="status">
                                    <span class="visually-hidden">Cargando...</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <section class="page-section clearfix">
            <div class="container">
                <div class="intro">
                    <img class="intro-img img-fluid mb-3 mb-lg-0 rounded" src="img/intro.jpg" alt="..." />
                    <div class="intro-text left-0 text-center bg-faded p-5 rounded">
                        <h2 class="section-heading mb-4">
                            <span class="section-heading-upper">Desarrollo Colaborativo</span>
                            <span class="section-heading-lower">Con GitHub</span>
                        </h2>
                        <p class="mb-3">En el Grupo A, utilizamos GitHub para gestionar nuestro código de manera eficiente y colaborativa. Cada línea de código es revisada y optimizada para garantizar la calidad en la construcción de software.</p>
                        <div class="intro-button mx-auto"><a class="btn btn-primary btn-xl" href="#!">Explora Nuestro Repositorio</a></div>
                    </div>
                </div>
            </div>
        </section>
        <section class="page-section cta">
            <div class="container">
                <div class="row">
                    <div class="col-xl-9 mx-auto">
                        <div class="cta-inner bg-faded text-center rounded">
                            <h2 class="section-heading mb-4">
                                <span class="section-heading-upper">Nuestro Compromiso</span>
                                <span class="section-heading-lower">Con el desarrollo de Software</span>
                            </h2>
                            <p class="mb-0">Nos dedicamos a construir software robusto y escalable, utilizando las mejores prácticas de desarrollo. Desde la planificación hasta la implementación, cada paso está cuidadosamente diseñado para cumplir con los más altos estándares.</p>
                        </div>
                    </div>
                </div>
            </div>
        </section>
        <footer class="footer text-faded text-center py-5">
            <div class="container"><p class="m-0 small">Copyright &copy; Grupo A - NRC 23729 2025</p></div>
        </footer>
        <!-- Bootstrap core JS-->
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"></script>
        <!-- Core theme JS-->
        <script src="js/scripts.js"></script>
        
        <!-- Nuevo script para conexión con la API -->
        <script>
            document.addEventListener('DOMContentLoaded', function() {
                // Función para cargar los perfiles desde la API
                function loadProfiles() {
                    fetch('/api/profiles')
                        .then(response => response.json())
                        .then(profiles => {
                            const container = document.getElementById('profiles-container');
                            container.innerHTML = '';
                            
                            if (profiles.length === 0) {
                                container.innerHTML = '<p class="text-muted">No hay perfiles registrados aún.</p>';
                                return;
                            }
                            
                            const row = document.createElement('div');
                            row.className = 'row';
                            
                            profiles.forEach(profile => {
                                const col = document.createElement('div');
                                col.className = 'col-md-4 mb-4';
                                
                                col.innerHTML = `
                                    <div class="card h-100">
                                        <div class="card-body">
                                            <h3 class="card-title">${profile.name}</h3>
                                            <p class="card-text">${profile.email}</p>
                                            <div class="skills">
                                                <h5>Habilidades:</h5>
                                                <ul class="list-unstyled">
                                                    ${profile.skills.map(skill => `<li>${skill}</li>`).join('')}
                                                </ul>
                                            </div>
                                        </div>
                                    </div>
                                `;
                                
                                row.appendChild(col);
                            });
                            
                            container.appendChild(row);
                        })
                        .catch(error => {
                            console.error('Error al cargar perfiles:', error);
                            document.getElementById('profiles-container').innerHTML = `
                                <div class="alert alert-danger">
                                    Error al cargar los perfiles. Por favor intenta más tarde.
                                </div>
                            `;
                        });
                }
                
                // Cargar los perfiles al iniciar la página
                loadProfiles();
            });
        </script>
    </body>
</html>
